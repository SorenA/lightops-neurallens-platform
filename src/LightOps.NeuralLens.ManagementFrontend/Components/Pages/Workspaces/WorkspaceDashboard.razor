@using LightOps.NeuralLens.Component.OrganizationApiConnector.Codegen
@using LightOps.NeuralLens.Component.WorkspaceApiConnector.Codegen

@inherits LayoutComponentBase
@page "/org/{organizationId}/space/{workspaceId}"

<PageTitle>Workspace dashboard</PageTitle>
<MudBreadcrumbs Items="BreadcrumbItems"></MudBreadcrumbs>

<MudContainer>
    <MudText Typo="Typo.h4" GutterBottom="true">
        Workspace dashboard
    </MudText>
</MudContainer>

@code {
    [CascadingParameter(Name = "Organization")]
    public OrganizationViewModel? Organization { get; set; }

    [CascadingParameter(Name = "Workspace")]
    public WorkspaceViewModel? Workspace { get; set; }
    
    [Parameter]
    public string? OrganizationId { get; set; }

    [Parameter]
    public string? WorkspaceId { get; set; }

    private List<BreadcrumbItem> BreadcrumbItems =>
    [
        new("Home", href: "/"),
    new("Organizations", href: "/org"),
    new(Organization?.Name ?? string.Empty, href: $"/org/{OrganizationId}"),
    new("Workspaces", href: $"/org/{OrganizationId}/space"),
    new(Workspace?.Name ?? string.Empty, href: $"/org/{OrganizationId}/space/{WorkspaceId}", disabled: true),
    ];
}